<script setup lang="ts">
import { ref, computed } from 'vue'
import MainLayout from '../layouts/MainLayout.vue'
import LanguageCardMain from '../components/LanguageCardMain.vue'

const searchQuery = ref('')
const languages = ref([
  {
    id: 1,
    name: '–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ –º–æ–≤–∞',
    description:
      "–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ –º–æ–≤–∞ –≤—ñ–¥–∫—Ä–∏–≤–∞—î –¥–æ—Å—Ç—É–ø –¥–æ –∫—Ä–∞—â–∏—Ö –æ—Å–≤—ñ—Ç–Ω—ñ—Ö, –∫–∞—Ä'—î—Ä–Ω–∏—Ö —Ç–∞ –∫—É–ª—å—Ç—É—Ä–Ω–∏—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π —É —Å–≤—ñ—Ç—ñ, –∞ —Ç–∞–∫–æ–∂ –¥–æ–ø–æ–º–∞–≥–∞—î —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è –∑ –ª—é–¥—å–º–∏ –∑ —Ä—ñ–∑–Ω–∏—Ö –∫—Ä–∞—ó–Ω. –¶–µ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–æ–¥–æ—Ä–æ–∂–µ–π, —Å–∞–º–æ—Ä–æ–∑–≤–∏—Ç–∫—É —Ç–∞ —É—Å–ø—ñ—Ö—É –≤ –±–∞–≥–∞—Ç—å–æ—Ö —Å—Ñ–µ—Ä–∞—Ö –∂–∏—Ç—Ç—è.",
    image: new URL('../../assets/main/UK-main.jpg', import.meta.url).href,
    flag: new URL('../../assets/main/UK-flag.jpg', import.meta.url).href,
  },
  {
    id: 2,
    name: '–ù—ñ–º–µ—Ü—å–∫–∞ –º–æ–≤–∞',
    description:
      "–ù—ñ–º–µ—Ü—å–∫–∞ –º–æ–≤–∞ –≤—ñ–¥–∫—Ä–∏–≤–∞—î –¥–æ—Å—Ç—É–ø –¥–æ —è–∫—ñ—Å–Ω–æ—ó –æ—Å–≤—ñ—Ç–∏, –∫–∞—Ä'—î—Ä–Ω–∏—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π —É –Ñ–≤—Ä–æ–ø—ñ —Ç–∞ –∫—É–ª—å—Ç—É—Ä–Ω–æ—ó —Å–ø–∞–¥—â–∏–Ω–∏ –Ω—ñ–º–µ—Ü—å–∫–æ–º–æ–≤–Ω–∏—Ö –∫—Ä–∞—ó–Ω. –í–æ–Ω–∞ —Ç–∞–∫–æ–∂ –∫–æ—Ä–∏—Å–Ω–∞ –¥–ª—è –ø–æ–¥–æ—Ä–æ–∂–µ–π —ñ –±—ñ–∑–Ω–µ—Å—É, –∞–¥–∂–µ —î –æ–¥–Ω—ñ—î—é –∑ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏—Ö –º–æ–≤ —É –Ñ–°.",
    image: new URL('../../assets/main/German-main.jpg', import.meta.url).href,
    flag: new URL('../../assets/main/Germany-flag.jpg', import.meta.url).href,
  },
  {
    id: 3,
    name: '–§—Ä–∞–Ω—Ü—É–∑—å–∫–∞ –º–æ–≤–∞',
    description:
      '–§—Ä–∞–Ω—Ü—É–∑—å–∫–∞ –º–æ–≤–∞ —î –æ–¥–Ω—ñ—î—é –∑ –æ—Å–Ω–æ–≤–Ω–∏—Ö –º–æ–≤ –º—ñ–∂–Ω–∞—Ä–æ–¥–Ω–æ—ó –¥–∏–ø–ª–æ–º–∞—Ç—ñ—ó, –∫—É–ª—å—Ç—É—Ä–∏ —Ç–∞ –º–∏—Å—Ç–µ—Ü—Ç–≤–∞, –≤—ñ–¥–∫—Ä–∏–≤–∞—é—á–∏ –¥–æ—Å—Ç—É–ø –¥–æ –æ—Å–≤—ñ—Ç–∏ —Ç–∞ —Ä–æ–±–æ—Ç–∏ —É —Ñ—Ä–∞–Ω–∫–æ–º–æ–≤–Ω–∏—Ö –∫—Ä–∞—ó–Ω–∞—Ö. –í–æ–Ω–∞ —Ç–∞–∫–æ–∂ –∫–æ—Ä–∏—Å–Ω–∞ –¥–ª—è –ø–æ–¥–æ—Ä–æ–∂–µ–π —ñ —Ä–æ–∑—à–∏—Ä—é—î –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —É —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—ñ –ø–æ –≤—Å—å–æ–º—É —Å–≤—ñ—Ç—É.',
    image: new URL('../../assets/main/France-main.jpg', import.meta.url).href,
    flag: new URL('../../assets/main/France-flag.jpg', import.meta.url).href,
  },
])

const filteredLanguages = computed(() => {
  return languages.value.filter((lang) =>
    lang.name.toLowerCase().includes(searchQuery.value.toLowerCase()),
  )
})
</script>

<template>
  <MainLayout>
    <div class="header">
      <h1>ForSpeak</h1>
      <div class="search-container">
        <input
          v-model="searchQuery"
          type="text"
          name="search-lang"
          id="search-lang"
          class="search-lang"
          placeholder="–ü–æ—à—É–∫ –º–æ–≤–∏..."
        />
        <div class="search-btn">üîç</div>
      </div>
      <img class="main-img" src="../../assets/main/main.jpeg" alt="main page" />
    </div>
    <div class="content">
      <div
        v-for="(language, index) in filteredLanguages"
        :key="language.id"
        :language="language"
        :class="{ 'reverse-card': index % 2 !== 0 }"
      >
        <LanguageCardMain :language="language" />
      </div>
    </div>
  </MainLayout>
</template>

<style scoped>
h1 {
  margin: 15% 12%;
  color: #032a5e;
  font-family:
    Istok Web,
    var(--default-font-family);
  font-size: 72px;
  font-weight: 700;
  line-height: 52px;
  letter-spacing: 3.6px;
  margin-bottom: 500px;
}

.search-container {
  display: flex;
  align-items: center;
  width: 250px;
  height: 40px;
  border-radius: 20px;
  border: 1px solid #023e8a;
  background: #f1f5f9;
  padding: 5px 10px;
  box-shadow: 2px 6px 6px rgba(0, 0, 0, 0.15);
  position: absolute;
  top: 60%;
  left: 15%;
}

.search-lang {
  flex-grow: 1;
  border: none;
  outline: none;
  font-size: 16px;
  background: transparent;
  color: #333;
  padding: 8px;
}

.search-btn {
  background: #023e8a;
  color: white;
  border: none;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: 0.3s;
}

.search-btn:hover {
  background: #0077b6;
}

.main-img {
  position: absolute;
  top: 0;
  right: 0;
  width: 50%;
}

.content {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.reverse-card .lang-container {
  flex-direction: row-reverse;
}
</style>
